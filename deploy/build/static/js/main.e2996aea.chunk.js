(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(t,e,i){"use strict";i.r(e);var s=i(0),o=i(5),n=i.n(o),r=i(9),a=i.n(r),c=i(1),h=i(2),u=i(4),p=i(3),l=function(){return Object(s.jsx)("div",{className:"option"})},v={w:{P:"WhitePawn.png",R:"WhiteRook.png",B:"WhiteBishop.png",k:"WhiteKnight.png",Q:"WhiteQueen.png",K:"WhiteKing.png"},b:{P:"BlackPawn.png",R:"BlackRook.png",B:"BlackBishop.png",k:"BlackKnight.png",Q:"BlackQueen.png",K:"BlackKing.png"},e:{0:""}},b=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(t){var s;return Object(c.a)(this,i),(s=e.call(this)).piece=t.piece,s.pic=".\\Chesspieceses\\"+v[s.piece.color][s.piece.lett],(s.piece.spot[0]+s.piece.spot[1])%2===0?s.className="block white":s.className="block black",s.isOption=!1,s}return Object(h.a)(i,[{key:"shouldComponentUpdate",value:function(t){var e=!1;return t.piece!==this.props.piece&&(this.piece=t.piece,this.pic=".\\Chesspieceses\\"+v[this.piece.color][this.piece.lett],e=!0),t.isOption!==this.props.isOption&&(this.isOption=t.isOption,e=!0),e}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{className:this.className,onClick:function(){return t.props.handleClick(t.piece)},children:[Object(s.jsx)("img",{className:"piece",src:this.pic,alt:""}),this.isOption&&Object(s.jsx)(l,{draw:this.isOption})]})}}]),i}(n.a.Component);var f=function(t,e){for(var i=0;i<e.length;i++){var s=e[i];if(s[0]===t[0]&&s[1]===t[1])return!0}return!1},d=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(t){var s;return Object(c.a)(this,i),(s=e.call(this,t)).state={board:s.props.board,move_options:s.props.move_options},s}return Object(h.a)(i,[{key:"render",value:function(){var t=this,e=this.props.board.map((function(e){return e.map((function(e){return Object(s.jsx)(b,{piece:e,handleClick:t.props.handleClick,isOption:f(e.spot,t.props.move_options)},e.spot)}))}));return Object(s.jsx)("div",{className:"board",children:e})}}]),i}(n.a.Component),k=i(8),m=i(6),j=function(){function t(e,i,s){Object(c.a)(this,t),this.spot=e,this.lett=i,this.color=s,this.moved=!1}return Object(h.a)(t,[{key:"move_options",value:function(){return[]}},{key:"getAvaliableMoves",value:function(t){for(var e=this.move_options(t),i=[],s=0;s<e.length;s++){var o=e[s],n=new B(t);n.board[this.spot[0]][this.spot[1]].move(o,n),n.isCheck()||i.push(o)}return i}},{key:"move",value:function(t,e){e.update(t,this),this.spot=t,this.moved||(this.moved=!0)}},{key:"check_dir",value:function(t,e,i,s){for(var o=this.spot[0],n=this.spot[1],r=!1;!r;)o+=t,n+=e,this.is_spot_free(o,n,i,s)||(r=!0,this.is_spot_eatable(o,n,i,s))}},{key:"create_copy",value:function(){return new t(this.spot,this.lett,this.color)}},{key:"is_spot_free",value:function(t,e,i,s){try{return"e"===i[t][e].color&&(s.push([t,e]),!0)}catch(o){}}},{key:"is_spot_eatable",value:function(t,e,i,s){try{i[t][e].color===("w"===this.color?"b":"w")&&s.push([t,e])}catch(o){}}}]),t}(),_=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){return Object(c.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"move",value:function(t,e){Object(k.a)(Object(m.a)(i.prototype),"move",this).call(this,t,e),0!==this.spot[0]&&7!==this.spot[0]||(e.board[this.spot[0]][this.spot[1]]=new w(this.spot,"Q",this.color))}},{key:"move_options",value:function(t){var e=t.board,i=this.spot[0],s=this.spot[1],o=[];return"w"===this.color?(this.is_spot_free(i-1,s,e,o),this.moved||this.is_spot_free(i-2,s,e,o),this.is_spot_eatable(i-1,s+1,e,o),this.is_spot_eatable(i-1,s-1,e,o)):(this.is_spot_free(i+1,s,e,o),this.moved||this.is_spot_free(i+2,s,e,o),this.is_spot_eatable(i+1,s+1,e,o),this.is_spot_eatable(i+1,s-1,e,o)),o}},{key:"create_copy",value:function(){return new i(this.spot,this.lett,this.color)}}]),i}(j),O=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){return Object(c.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"move_options",value:function(t){var e=t.board,i=[];return this.check_dir(1,0,e,i),this.check_dir(-1,0,e,i),this.check_dir(0,1,e,i),this.check_dir(0,-1,e,i),i}},{key:"create_copy",value:function(){return new i(this.spot,this.lett,this.color)}}]),i}(j),y=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){return Object(c.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"move_options",value:function(t){var e=t.board,i=[];return this.check_dir(1,1,e,i),this.check_dir(-1,-1,e,i),this.check_dir(-1,1,e,i),this.check_dir(1,-1,e,i),i}},{key:"create_copy",value:function(){return new i(this.spot,this.lett,this.color)}}]),i}(j),w=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){return Object(c.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"move_options",value:function(t){var e=t.board,i=[];return this.check_dir(1,0,e,i),this.check_dir(-1,0,e,i),this.check_dir(0,1,e,i),this.check_dir(0,-1,e,i),this.check_dir(1,1,e,i),this.check_dir(-1,-1,e,i),this.check_dir(-1,1,e,i),this.check_dir(1,-1,e,i),i}},{key:"create_copy",value:function(){return new i(this.spot,this.lett,this.color)}}]),i}(j),g=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){return Object(c.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"move",value:function(t,e){this.moved||(2===t[1]&&e.board[this.spot[0]][0].move([this.spot[0],3],e),6===t[1]&&e.board[this.spot[0]][7].move([this.spot[0],5],e)),Object(k.a)(Object(m.a)(i.prototype),"move",this).call(this,t,e)}},{key:"move_options",value:function(t){for(var e,i=t.board,s=[],o=this.spot[0],n=this.spot[1],r=[[o+1,n],[o+1,n+1],[o,n+1],[o-1,n+1],[o-1,n],[o-1,n-1],[o,n-1],[o+1,n-1]],a=0;a<r.length;a++)e=r[a],this.is_spot_free(e[0],e[1],i,s)||this.is_spot_eatable(e[0],e[1],i,s);var c=[[this.spot[0],3],[this.spot[0],2],[this.spot[0],1]],h=[[this.spot[0],5],[this.spot[0],6]];try{this.castle(t,c,t.board[this.spot[0]][0])&&s.push([this.spot[0],2]),this.castle(t,h,t.board[this.spot[0]][7])&&s.push([this.spot[0],6])}catch(u){}return s}},{key:"castle",value:function(t,e,i){if(this.moved||i.moved)return!1;for(var s=0;s<e.length;s++){var o=e[s];if("e"!==t.board[o[0]][o[1]].color)return!1;var n=new B(t);if(n.board[this.spot[0]][this.spot[1]].move(o,n),n.isCheck())return!1}return!0}},{key:"create_copy",value:function(){return new i(this.spot,this.lett,this.color)}}]),i}(j),C=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){return Object(c.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"move_options",value:function(t){for(var e,i=t.board,s=[],o=this.spot[0],n=this.spot[1],r=[[o+2,n+1],[o+2,n-1],[o-1,n+2],[o-2,n+1],[o-2,n-1],[o+1,n+2],[o+1,n-2],[o-1,n-2]],a=0;a<r.length;a++)e=r[a],this.is_spot_free(e[0],e[1],i,s)||this.is_spot_eatable(e[0],e[1],i,s);return s}},{key:"create_copy",value:function(){return new i(this.spot,this.lett,this.color)}}]),i}(j),K=function(){function t(){Object(c.a)(this,t),this.turn="w",this.whiteKing=new g([7,4],"K","w"),this.blackKing=new g([0,4],"K","b"),this.board=this.createBoard()}return Object(h.a)(t,[{key:"createBoard",value:function(){for(var t=[],e=0;e<8;e++){for(var i=[],s=0;s<8;s++){var o=new j([e,s],"0","e","");i.push(o)}t.push(i)}return t[6]=t[6].map((function(t,e){return new _([6,e],"P","w")})),t[1]=t[1].map((function(t,e){return new _([1,e],"P","b")})),t[7][4]=this.whiteKing,t[0][4]=this.blackKing,t[7][3]=new w([7,3],"Q","w"),t[0][3]=new w([0,3],"Q","b"),t[7][0]=new O([7,0],"R","w"),t[7][7]=new O([7,7],"R","w"),t[0][0]=new O([0,0],"R","b"),t[0][7]=new O([0,7],"R","b"),t[7][2]=new y([7,2],"B","w"),t[7][5]=new y([7,5],"B","w"),t[0][2]=new y([0,2],"B","b"),t[0][5]=new y([0,5],"B","b"),t[7][1]=new C([7,1],"k","w"),t[7][6]=new C([7,6],"k","w"),t[0][1]=new C([0,1],"k","b"),t[0][6]=new C([0,6],"k","b"),t}},{key:"update",value:function(t,e){this.board[t[0]][t[1]]=e,this.board[e.spot[0]][e.spot[1]]=new j(e.spot,"0","e")}},{key:"updateTurn",value:function(){"w"===this.turn?this.turn="b":this.turn="w"}},{key:"isCheck",value:function(){for(var t=0;t<this.board.length;t++)for(var e=0;e<this.board[t].length;e++){var i=this.board[t][e];if("K"!==i.lett){var s=i.move_options(this);if("w"===this.turn){if(f(this.whiteKing.spot,s))return!0}else if(f(this.blackKing.spot,s))return!0}}return!1}},{key:"isCheckMate",value:function(){for(var t=0;t<this.board.length;t++)for(var e=0;e<this.board[t].length;e++){var i=this.board[t][e];if(i.color===this.turn)if(i.getAvaliableMoves(this).length>0)return!1}return!0}},{key:"isPat",value:function(){return this.isCheckMate()}}]),t}(),B=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(t){var s;return Object(c.a)(this,i),(s=e.call(this)).turn=t.turn,s.board=s.createCopyBoard(t.board),s.whiteKing=s.board[t.whiteKing.spot[0]][t.whiteKing.spot[1]],s.blackKing=s.board[t.blackKing.spot[0]][t.blackKing.spot[1]],s}return Object(h.a)(i,[{key:"createCopyBoard",value:function(t){for(var e=[],i=0;i<8;i++){for(var s=[],o=0;o<8;o++){var n=t[i][o].create_copy();s.push(n)}e.push(s)}return e}}]),i}(K),x=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(t){var s;return Object(c.a)(this,i),(s=e.call(this,t)).startClock=function(){s.myInterval=setInterval((function(){s.setState((function(t){return 1===t.time?(s.stopClock(),{time:t.time-1,lost:!0}):{time:t.time-1}}))}),1e3)},s.stopClock=function(){clearInterval(s.myInterval)},s.formatTimer=function(){var t="",e=Math.floor(s.state.time/60),i=s.state.time%60;return t+=e<10?"0"+e+":":e+":",t+=i<10?"0"+i:i},s.state={color:t.color,time:900},s}return Object(h.a)(i,[{key:"componentDidMount",value:function(){"b"===this.props.turn&&this.startClock()}},{key:"componentDidUpdate",value:function(t){t.turn!==this.props.turn&&(this.props.turn===this.state.color?this.startClock():this.stopClock())}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"timer",children:this.formatTimer()})}}]),i}(n.a.Component),N=function(t){Object(u.a)(i,t);var e=Object(p.a)(i);function i(){var t;return Object(c.a)(this,i),(t=e.call(this)).handleClick=function(e){var i=e.spot[0],s=e.spot[1];t.setState((function(o){if(null!=t.state.piece)return f(e.spot,t.state.move_options)&&(o.game.board[o.piece.spot[0]][o.piece.spot[1]].move([i,s],t.state.game),o.game.updateTurn()),{piece:null,game:o.game,move_options:[],status:t.updateStatus(o.game)};if(t.state.game.turn===e.color){var n=e.getAvaliableMoves(o.game);if(n.length>0)return{piece:e,move_options:n}}}))},t.updateStatus=function(){return t.state.game.isCheck()?t.state.game.isCheckMate()?"CHECKMATE!":"CHECK!":t.state.game.isPat()?"PAT!":" "},t.state={piece:null,game:new K,move_options:[],status:""},t}return Object(h.a)(i,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"game",children:[Object(s.jsx)("h1",{className:"status",children:this.state.status}),Object(s.jsx)(d,{board:this.state.game.board,move_options:this.state.move_options,handleClick:this.handleClick}),Object(s.jsxs)("div",{className:"timers",children:[Object(s.jsx)(x,{color:"b",turn:this.state.game.turn}),Object(s.jsx)(x,{color:"w",turn:this.state.game.turn})]})]})}}]),i}(n.a.Component);a.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e2996aea.chunk.js.map