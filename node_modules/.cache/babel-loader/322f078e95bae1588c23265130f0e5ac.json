{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/user/Desktop/Computer_Science/ChessWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/user/Desktop/Computer_Science/ChessWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/user/Desktop/Computer_Science/ChessWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/user/Desktop/Computer_Science/ChessWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";var Timer=/*#__PURE__*/function(_React$Component){_inherits(Timer,_React$Component);var _super=_createSuper(Timer);function Timer(props){var _this;_classCallCheck(this,Timer);_this=_super.call(this,props);_this.startClock=function(){_this.myInterval=setInterval(function(){_this.setState(function(prevState){if(prevState.time===1){_this.stopClock();return{time:prevState.time-1,lost:true};}return{time:prevState.time-1};});},1000);};_this.stopClock=function(){clearInterval(_this.myInterval);};_this.formatTimer=function(){var time=\"\";var minutes=Math.floor(_this.state.time/60);var seconds=_this.state.time%60;if(minutes<10){time+=\"0\"+minutes+\":\";}else{time+=minutes+\":\";}if(seconds<10){time+=\"0\"+seconds;}else{time+=seconds;}return time;};_this.state={color:props.color,time:900};return _this;}_createClass(Timer,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.turn==='b'){this.startClock();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.turn!==this.props.turn){if(this.props.turn===this.state.color){this.startClock();}else{this.stopClock();}}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"timer\",children:this.formatTimer()});}}]);return Timer;}(React.Component);export default Timer;","map":{"version":3,"sources":["C:/Users/user/Desktop/Computer_Science/ChessWeb1/src/Components/Timer.js"],"names":["React","Timer","props","startClock","myInterval","setInterval","setState","prevState","time","stopClock","lost","clearInterval","formatTimer","minutes","Math","floor","state","seconds","color","turn","prevProps","Component"],"mappings":"urBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAIMC,CAAAA,K,0GACF,eAAaC,KAAb,CAAoB,uCAChB,uBAAMA,KAAN,EADgB,MAwBpBC,UAxBoB,CAwBP,UAAM,CACf,MAAKC,UAAL,CAAkBC,WAAW,CAAC,UAAM,CAChC,MAAKC,QAAL,CAAc,SAAAC,SAAS,CAAI,CACvB,GAAIA,SAAS,CAACC,IAAV,GAAmB,CAAvB,CAA0B,CACtB,MAAKC,SAAL,GACA,MAAO,CAACD,IAAI,CAAED,SAAS,CAACC,IAAV,CAAiB,CAAxB,CAA2BE,IAAI,CAAE,IAAjC,CAAP,CACH,CACD,MAAO,CAACF,IAAI,CAAED,SAAS,CAACC,IAAV,CAAiB,CAAxB,CAAP,CACH,CAND,EAOH,CAR4B,CAQ1B,IAR0B,CAA7B,CASH,CAlCmB,OAoCpBC,SApCoB,CAoCR,UAAM,CACdE,aAAa,CAAC,MAAKP,UAAN,CAAb,CACH,CAtCmB,OAwCpBQ,WAxCoB,CAwCN,UAAK,CACf,GAAIJ,CAAAA,IAAI,CAAG,EAAX,CACA,GAAMK,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAW,MAAKC,KAAL,CAAWR,IAAX,CAAkB,EAA7B,CAAhB,CACA,GAAMS,CAAAA,OAAO,CAAG,MAAKD,KAAL,CAAWR,IAAX,CAAkB,EAAlC,CACA,GAAIK,OAAO,CAAG,EAAd,CAAkB,CACdL,IAAI,EAAI,IAAMK,OAAN,CAAgB,GAAxB,CACH,CAFD,IAGK,CACDL,IAAI,EAAIK,OAAO,CAAG,GAAlB,CACH,CACD,GAAII,OAAO,CAAG,EAAd,CAAkB,CACdT,IAAI,EAAI,IAAMS,OAAd,CACH,CAFD,IAGK,CACDT,IAAI,EAAIS,OAAR,CACH,CACD,MAAOT,CAAAA,IAAP,CACH,CAzDmB,CAEhB,MAAKQ,KAAL,CAAa,CACTE,KAAK,CAAEhB,KAAK,CAACgB,KADJ,CAETV,IAAI,CAAE,GAFG,CAAb,CAFgB,aAMnB,C,+EACkB,CACf,GAAI,KAAKN,KAAL,CAAWiB,IAAX,GAAoB,GAAxB,CAA6B,CACzB,KAAKhB,UAAL,GACH,CACJ,C,8DAEmBiB,S,CAAW,CAC3B,GAAIA,SAAS,CAACD,IAAV,GAAmB,KAAKjB,KAAL,CAAWiB,IAAlC,CAAwC,CACpC,GAAI,KAAKjB,KAAL,CAAWiB,IAAX,GAAoB,KAAKH,KAAL,CAAWE,KAAnC,CAA0C,CACtC,KAAKf,UAAL,GACH,CAFD,IAGI,CACA,KAAKM,SAAL,GACH,CACJ,CACJ,C,uCAqCS,CACN,mBACI,YAAK,SAAS,CAAC,OAAf,UAAwB,KAAKG,WAAL,EAAxB,EADJ,CAGH,C,mBAhEeZ,KAAK,CAACqB,S,EAmE1B,cAAepB,CAAAA,KAAf","sourcesContent":["import React from \"react\"\r\n\r\n\r\n\r\nclass Timer extends React.Component {\r\n    constructor (props) {\r\n        super(props)\r\n        this.state = {\r\n            color: props.color,\r\n            time: 900\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        if (this.props.turn === 'b') {\r\n            this.startClock()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate (prevProps) {\r\n        if (prevProps.turn !== this.props.turn) {\r\n            if (this.props.turn === this.state.color) {\r\n                this.startClock()\r\n            }\r\n            else{\r\n                this.stopClock()\r\n            }\r\n        }\r\n    }\r\n\r\n    startClock = () => {\r\n        this.myInterval = setInterval(() => {\r\n            this.setState(prevState => {\r\n                if (prevState.time === 1) {\r\n                    this.stopClock()\r\n                    return {time: prevState.time - 1, lost: true}\r\n                }\r\n                return {time: prevState.time - 1}\r\n            })\r\n        }, 1000)\r\n    }\r\n\r\n    stopClock = () => {\r\n        clearInterval(this.myInterval)\r\n    }\r\n    \r\n    formatTimer = () =>{\r\n        let time = \"\"\r\n        const minutes = Math.floor(this.state.time / 60)\r\n        const seconds = this.state.time % 60\r\n        if (minutes < 10) {\r\n            time += \"0\" + minutes + \":\"\r\n        }\r\n        else {\r\n            time += minutes + \":\"\r\n        }\r\n        if (seconds < 10) {\r\n            time += \"0\" + seconds\r\n        }\r\n        else {\r\n            time += seconds\r\n        }\r\n        return time\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"timer\">{this.formatTimer()}</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Timer"]},"metadata":{},"sourceType":"module"}